(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["05379e98"],{"17ed":function(e,t,s){"use strict";var a=s("65c7"),n=s.n(a);n.a},"65c7":function(e,t,s){},"8ec3":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"flex flex-center bg-primary"},[s("div",{staticClass:"column justify-center q-gutter-y-lg"},[s("div",{staticClass:"col-auto"},[s("div",{staticClass:"row justify-center title"},[s("h5",[e._v("\n          To earn some free goodies\n        ")])]),s("div",{staticClass:"col-auto"},[s("div",{staticClass:"row justify-center title"},[s("h5",[e._v("\n            Give us a follow\n          ")])]),s("div",{staticClass:"row justify-center linkedin-follow"},[s("iframe",{attrs:{src:"https://www.linkedin.com/pages-extensions/FollowCompany?id=19141290&counter=bottom",height:"50",width:"150",frameborder:"0",allowfullscreen:"",title:"Embedded post"}})])]),s("div",{staticClass:"col-auto"},[s("div",{staticClass:"row justify-center title"},[s("h5",[e._v("\n            Share this Post\n          ")])]),s("div",{staticClass:"row justify-center"},[s("iframe",{attrs:{src:"https://www.linkedin.com/embed/feed/update/urn:li:share:6582193164310892544",width:"350",height:"500",frameborder:"0",allowfullscreen:"",title:"Embedded post"}})])]),s("div",{staticClass:"col-auto",staticStyle:{"margin-bottom":"2rem","margin-top":"3rem"}},[s("div",{staticClass:"row justify-center default-font-bold"},[s("q-btn",{attrs:{disable:!e.followed,unelevated:"",color:"secondary",label:"Claim Reward"},on:{click:e.claimReward}})],1)])]),s("q-page-scroller",{attrs:{position:"bottom-right","scroll-offset":150,offset:[18,18]}})],1),s("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.rewardDialog,callback:function(t){e.rewardDialog=t},expression:"rewardDialog"}},[s("q-card",{staticClass:"bg-info text-black text-center"},[s("div",{staticClass:"row justify-end"},[s("q-icon",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{name:"close",size:"md"}})],1),s("q-card-section",[s("h5",[e._v("\n          To claim your free T-shirt show this QR code at the Catalyst Booth\n        ")])]),s("q-card-section",[s("div",{staticClass:"qr-code text-black"},[s("img",{attrs:{src:e.qrCodeDataURL}})])])],1)],1)],1)},n=[],r=(s("7f7f"),s("967e")),i=s.n(r),o=(s("96cf"),s("fa84")),c=s.n(o),l=(s("7514"),s("d055")),u=s("fbc1"),d={name:"Linkedin",data:function(){return{shareLabel:"Share",shared:!1,followed:!1,rewardDialog:!1,qrCodeDataURL:null,accessToken:null,clickCounter:0}},computed:{user:function(){return u["a"].find("linkedin")}},mounted:function(){var e=c()(i.a.mark(function e(){return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$q.loading.show({backgroundColor:"primary",messageColor:"secondary",customClass:"loading"}),this.signedIn()||this.$router.push("/"),this.hasFollowed(),this.$q.loading.hide();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{qrCode:function(){var e=c()(i.a.mark(function e(t){var s,a=this;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(s={width:300,height:300},"string"!==typeof t){e.next=4;break}return e.next=4,l["toDataURL"](t,s,function(e,t){e?console.error(e):a.qrCodeDataURL=t});case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),signedIn:function(){var e=this.$hello("linkedin").getAuthResponse();this.accessToken=e.access_token;var t=(new Date).getTime()/1e3;return e&&e.access_token&&e.expires>t},hasFollowed:function(){var e=c()(i.a.mark(function e(){var t,s=this;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=setInterval(function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&(s.followed=!0,s.clickCounter+=1,s.clickCounter>1&&(s.shared=!0,clearInterval(t)))},100);case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),share:function(){var e=c()(i.a.mark(function e(){var t;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get("".concat("https://oauth-conf-api.azurewebsites.net/","/linkedin/share/").concat(this.user.username,"/").concat(this.user.id));case 2:t=e.sent,"success"===t&&(this.shared=!0,this.shareLabel="Done");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),claimReward:function(){var e=c()(i.a.mark(function e(){var t,s;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.followed||!this.shared){e.next=6;break}return t={platform:"linkedin",username:this.user.username,name:this.user.name,access_token:this.user.accessToken},s=JSON.stringify(t),e.next=5,this.qrCode(s);case 5:this.rewardDialog=!0;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},h=d,f=(s("17ed"),s("2877")),w=Object(f["a"])(h,a,n,!1,null,null,null);t["default"]=w.exports}}]);